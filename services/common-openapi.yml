components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: API Key used to authenticate the endpoint.
    AuthToken:
      type: http
      scheme: bearer
      bearerFormat: jwt
      description: JSON Web Token generated by the Auth service.

  responses:
    missingApiKeyResponse:
      description: API Key was not provided or is invalid.
      content:
        'application/json':
          schema:
            type: object
            example:
              message: 'Missing Authentication Token'

  schemas:
    uuid:
      type: string
      pattern: ^[a-f\d]{4}(?:[a-f\d]{4}-){4}[a-f\d]{12}$

    userAgentHeader:
      type: string
      # MittHelsingborg/<app version>/<app platform>
      pattern: ^MittHelsingborg\/\d+\.\d+\.\d+\/(ios|android).*$
      example: MittHelsingborg/1.7.0/ios/14.4

    jsonApiError:
      properties:
        jsonapi:
          type: object
          properties:
            version:
              type: string
              example: '1.0'
        data:
          type: object
          properties:
            status:
              type: string
              example: '400'
            code:
              type: number
              example: 400
            title:
              type: string
              example: InvalidArgumentError
            detail:
              type: string
              example: Invalid argument X supplied to Y
            message:
              type: string
              example: Invalid argument X supplied to Y
            stack:
              type: string
              example: "InvalidArgumentError: Invalid argument X supplied to Y\n    at Object.transform"
